<!doctype html>
<html class="no-js" lang="en">

<head th:replace="../elements/header (title='Work')"></head>

<body id="backend" class="edit works">
	<div id="wrapper">
		<div th:replace="../elements/navbar"></div>
		<div id="inner">
			<form th:object="${work}" method="post">
				<input th:disabled="${view}" type="hidden" th:field="*{id}" />
				<table id="edit">
					<tr>
						<td>Author</td>
						<td>
							<select th:disabled="${view}" th:field="*{author}">
								<option th:each="author : ${authors}" th:value="${author.id}" th:text="${author.slug}" />
							</select>
						</td>
					</tr>
					<tr>
						<td>Slug</td>
						<td>
							<input th:disabled="${view}" type="text" th:field="*{slug}" />
						</td>
					</tr>
					<tr th:if="${work.id}" th:each="locale : ${work.locales}">
						<td th:text="${locale.language}"></td>
						<td>
							<table class="locale">
								<tr>
									<td>Name</td>
									<td th:text="${locale.name}"></td>
								</tr>
								<tr>
									<td>Weblink</td>
									<td><a target="_blank" th:href="${locale.href}">Open</a></td>
								</tr>
							</table>
						</td>
					</tr>
					<tr th:if="${work.id}">
						<td>&nbsp;</td>
						<td>
							<a th:href="@{/tiwolij/works/locales/edit?work=} + ${work.id}">Add Locale</a>
						</td>
					</tr>
					<tr th:unless="${view}">
						<td>&nbsp;</td>
						<td>
							<button type="submit" th:formaction="@{/tiwolij/works/edit}">Save</button>
						</td>
					</tr>
				</table>
			</form>
		</div>
	</div>

	<div th:replace="../elements/scripts"></div>
</body>

</html>
